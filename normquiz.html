<html>
<head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Politically Somewhere Normal Test</title>
    <meta charset="utf-8">
</head>
<body>
    <script src="questionbank.js"></script>
    <p id="question-text"></p>
    <p>
    <button class="button" onclick="nextquestion(2)">Strongly Agree</button>
    <button class="button" onclick="nextquestion(1)">Slightly Agree</button>
    <button class="button" onclick="nextquestion(0)">Neutral</button>
    <button class="button" onclick="nextquestion(-1)">Slightly Disagree</button>
    <button class="button" onclick="nextquestion(-2)">Strongly Disagree</button>
    <button class="button" onclick="raiseissue()" id="issue">I have a problem with this question</button>
    </p>

    <script>

        var currq = 0

        initq();

        function initq() {
            document.getElementById("question-text").innerHTML = questionbank[currq].question;
            if (questionbank[currq].hasissue == false) {
                document.getElementById("issue").style.display = 'none';
            }
        }

        function nextquestion(val) {
            // currently does not track values
            currq++;
            if (currq < questionbank.length) {
                initq();
            } else {
                results();
            }
        }

        function results() {
            location.href="results.html";
        }

        function raiseissue() {
            var temp = hasProblemList.indexOf(currq);
            sessionStorage.setItem("currQ", currq);
            let issuewin = window.open('issueraised.html', 'Issue', 'width=800,height=300');
        }   
    </script>
</body>
</html>